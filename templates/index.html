<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HealthConnect Bot - AI Health Diagnosis Assistant</title>
    <meta name="description" content="AI-powered health diagnosis assistant. Get preliminary diagnosis and medication recommendations based on your symptoms.">
    <meta name="keywords" content="health, diagnosis, AI, medical assistant, symptoms, medication">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='48' fill='%230EA5E9'/><path d='M50 25V75M25 50H75' stroke='white' stroke-width='10' stroke-linecap='round'/><path d='M50 65C50 65 35 52 35 42C35 35 40 32 45 32C47.5 32 50 34 50 34C50 34 52.5 32 55 32C60 32 65 35 65 42C65 52 50 65 50 65Z' fill='white' opacity='0.9'/></svg>">
    
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-container">
            <div class="loading-logo">
                <svg width="80" height="80" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="50" cy="50" r="48" fill="url(#gradient1)" stroke="white" stroke-width="3"/>
                    <path d="M50 25V75M25 50H75" stroke="white" stroke-width="10" stroke-linecap="round"/>
                    <path d="M50 65C50 65 35 52 35 42C35 35 40 32 45 32C47.5 32 50 34 50 34C50 34 52.5 32 55 32C60 32 65 35 65 42C65 52 50 65 50 65Z" fill="white" opacity="0.9"/>
                    <circle cx="70" cy="70" r="8" stroke="white" stroke-width="2.5" fill="none"/>
                    <path d="M70 62V55" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
                    <defs>
                        <linearGradient id="gradient1" x1="0" y1="0" x2="100" y2="100">
                            <stop offset="0%" style="stop-color:#0EA5E9;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#0284C7;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                </svg>
            </div>
            <div class="loading-text">HealthConnect</div>
            <div class="loading-spinner">
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
            </div>
            <p class="loading-subtext">Initializing your health assistant...</p>
        </div>
    </div>

    <div class="container">
        <header>
            <div class="header-controls">
                <button class="icon-btn" id="darkModeToggle" title="Toggle Dark Mode">
                    <svg class="sun-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="12" cy="12" r="5" stroke="currentColor" stroke-width="2"/>
                        <path d="M12 1V3M12 21V23M23 12H21M3 12H1M20.49 3.51L18.36 5.64M5.64 18.36L3.51 20.49M20.49 20.49L18.36 18.36M5.64 5.64L3.51 3.51" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <svg class="moon-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <select id="languageSelector" class="language-selector" title="Select Language">
                    <option value="en">üåê English</option>
                    <option value="es">üá™üá∏ Espa√±ol</option>
                    <option value="fr">üá´üá∑ Fran√ßais</option>
                    <option value="de">üá©üá™ Deutsch</option>
                    <option value="hi">üáÆüá≥ ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                    <option value="zh">üá®üá≥ ‰∏≠Êñá</option>
                </select>
            </div>
            <div class="logo">
                <svg width="50" height="50" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <!-- Medical Cross Background Circle -->
                    <circle cx="50" cy="50" r="48" fill="url(#gradient1)" stroke="white" stroke-width="3"/>
                    <!-- Medical Cross -->
                    <path d="M50 25V75M25 50H75" stroke="white" stroke-width="10" stroke-linecap="round"/>
                    <!-- Heart Symbol -->
                    <path d="M50 65C50 65 35 52 35 42C35 35 40 32 45 32C47.5 32 50 34 50 34C50 34 52.5 32 55 32C60 32 65 35 65 42C65 52 50 65 50 65Z" fill="white" opacity="0.9"/>
                    <!-- Stethoscope accent -->
                    <circle cx="70" cy="70" r="8" stroke="white" stroke-width="2.5" fill="none"/>
                    <path d="M70 62V55" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
                    <defs>
                        <linearGradient id="gradient1" x1="0" y1="0" x2="100" y2="100">
                            <stop offset="0%" style="stop-color:#0EA5E9;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#0284C7;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                </svg>
                <div class="logo-text">
                    <h1>HealthConnect</h1>
                    <span class="logo-subtitle">Medical AI Assistant</span>
                </div>
            </div>
            <p class="tagline">ü©∫ Your Trusted AI-Powered Health Diagnosis Partner</p>
            <div class="header-credit">
                <span>üíª Designed & Developed by <strong>Nivi</strong> | Panthercreek High School</span>
            </div>
        </header>

        <main>
            <div class="chat-container">
                <div class="welcome-message">
                    <div class="welcome-icon">
                        <svg width="60" height="60" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="50" cy="50" r="45" fill="#E0F2FE" stroke="#0EA5E9" stroke-width="2"/>
                            <path d="M50 30C45 30 42 33 42 38C42 43 45 46 50 55C55 46 58 43 58 38C58 33 55 30 50 30Z" fill="#0EA5E9"/>
                            <path d="M35 60H65M40 67H60M42 74H58" stroke="#0EA5E9" stroke-width="3" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <h2>üëã Welcome to HealthConnect</h2>
                    <p class="welcome-desc">Your trusted AI medical assistant. Describe your symptoms, and receive a comprehensive preliminary diagnosis with personalized medication recommendations.</p>
                    <div class="features-grid">
                        <div class="feature-item">
                            <span class="feature-icon">üî¨</span>
                            <span>AI Analysis</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üíä</span>
                            <span>Medication Guide</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">‚ö°</span>
                            <span>Instant Results</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üõ°Ô∏è</span>
                            <span>Safe & Secure</span>
                        </div>
                    </div>
                    <div class="disclaimer-box">
                        <strong>‚ö†Ô∏è Medical Disclaimer:</strong> This is a preliminary assessment tool powered by AI. Always consult licensed healthcare professionals for accurate diagnosis and treatment. In case of emergency, call your local emergency services immediately.
                    </div>
                </div>

                <div id="chatMessages" class="chat-messages"></div>
                
                <!-- Share Dialog -->
                <div id="shareDialog" class="share-dialog" style="display: none;">
                    <div class="share-dialog-content">
                        <h3>üì§ Share Diagnosis</h3>
                        <p>Share this diagnosis with your healthcare provider</p>
                        <div class="share-buttons">
                            <button class="share-option" id="copyBtn">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="9" y="9" width="13" height="13" rx="2" stroke="currentColor" stroke-width="2"/>
                                    <path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke="currentColor" stroke-width="2"/>
                                </svg>
                                Copy Text
                            </button>
                            <button class="share-option" id="downloadBtn">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 15V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                    <path d="M7 10L12 15M12 15L17 10M12 15V3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                Download PDF
                            </button>
                            <button class="share-option" id="emailBtn">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="2" y="4" width="20" height="16" rx="2" stroke="currentColor" stroke-width="2"/>
                                    <path d="M2 7L12 13L22 7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                Email
                            </button>
                        </div>
                        <button class="close-share-btn" id="closeShareBtn">Close</button>
                    </div>
                </div>
            </div>

            <div class="input-container">
                <form id="symptomForm">
                    <div class="input-group">
                        <label for="symptoms">
                            Describe your symptoms
                            <button type="button" class="voice-btn" id="voiceBtn" title="Voice Input">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 1C10.3431 1 9 2.34315 9 4V12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12V4C15 2.34315 13.6569 1 12 1Z" stroke="currentColor" stroke-width="2"/>
                                    <path d="M19 10V12C19 15.866 15.866 19 12 19C8.13401 19 5 15.866 5 12V10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                    <path d="M12 19V23M8 23H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                <span class="voice-text">Speak</span>
                            </button>
                        </label>
                        <textarea 
                            id="symptoms" 
                            name="symptoms" 
                            placeholder="e.g., I have a fever, headache, and sore throat for 2 days..."
                            required
                            rows="3"
                        ></textarea>
                        <div class="voice-indicator" id="voiceIndicator" style="display: none;">
                            <span class="listening-dot"></span>
                            <span>Listening...</span>
                        </div>
                    </div>

                    <div class="input-row">
                        <div class="input-group">
                            <label for="age">Age (optional)</label>
                            <input 
                                type="number" 
                                id="age" 
                                name="age" 
                                placeholder="e.g., 25"
                                min="1"
                                max="120"
                            >
                        </div>

                        <div class="input-group">
                            <label for="gender">Gender (optional)</label>
                            <select id="gender" name="gender">
                                <option value="">Select</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>

                    <button type="submit" class="submit-btn" id="submitBtn">
                        <span class="btn-icon">üî¨</span>
                        <span class="btn-text">Get Diagnosis</span>
                        <span class="btn-loader" style="display: none;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="10" stroke="white" stroke-width="4" opacity="0.3"/>
                                <path d="M12 2a10 10 0 0 1 10 10" stroke="white" stroke-width="4" stroke-linecap="round"/>
                            </svg>
                            <span class="analyzing-text">Analyzing...</span>
                        </span>
                    </button>
                </form>
            </div>
        </main>

        <footer>
            <p>&copy; 2025 HealthConnect Bot. For informational purposes only.</p>
            <div class="footer-links">
                <span class="footer-badge">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="#0EA5E9" stroke-width="2"/>
                        <path d="M12 8V12L14.5 14.5" stroke="#0EA5E9" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    24/7 Available
                </span>
                <span class="footer-badge">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 15C15.866 15 19 11.866 19 8C19 4.13401 15.866 1 12 1C8.13401 1 5 4.13401 5 8C5 11.866 8.13401 15 12 15Z" stroke="#10B981" stroke-width="2"/>
                        <path d="M3 21C3 17.134 7.02944 14 12 14C16.9706 14 21 17.134 21 21" stroke="#10B981" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    Confidential
                </span>
                <span class="footer-badge">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 11L12 14L22 4" stroke="#F59E0B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 12V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3H16" stroke="#F59E0B" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    AI-Powered
                </span>
            </div>
            <div class="developer-credit">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16 18L22 12L16 6M8 6L2 12L8 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Designed & Developed by <strong>Nivi</strong> | Panthercreek High School</span>
            </div>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
